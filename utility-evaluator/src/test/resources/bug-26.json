{
    "title":"crash_utility_eval Copy",
    "status":"draft",
    "content":"apiVersion: \"core.oam.dev/v1beta1\"\r\nkind: \"Application\"\r\nmetadata:\r\n  name: \"dummy-app-202410041435\"\r\nspec:\r\n  components:\r\n  - name: \"dummy-app-controller\"\r\n    type: \"webservice\"\r\n    properties:\r\n      image: \"rsprat/dummy-rest-app-controller:v1\"\r\n      cpu: \"4.0\"\r\n      memory: \"8048Mi\"\r\n      imagePullPolicy: \"Always\"\r\n      exposeType: NodePort\r\n      ports:\r\n        - name: controller-api\r\n          expose: true\r\n          port: 8000\r\n          nodePort: 30008\r\n          protocol: TCP\r\n      env:    \r\n      - name: \"report_metrics_to_ems\"\r\n        value: \"True\"\r\n      - name: \"nebulous_ems_ip\"\r\n        valueFrom:\r\n          fieldRef:\r\n            fieldPath: status.hostIP\r\n      - name: \"nebulous_ems_port\"\r\n        value: \"61610\"\r\n      - name: \"nebulous_ems_user\"\r\n        value: \"aaa\"\r\n      - name: \"nebulous_ems_password\"\r\n        value: \"111\"\r\n    traits:\r\n    - type: \"scaler\"\r\n      properties:\r\n        replicas: 1\r\n    - type: \"annotations\"\r\n      properties:\r\n        \"nebulous-placement-constraint\":  \"CLOUD\"\r\n  - name: \"dummy-app-worker\"\r\n    type: \"webservice\"\r\n    properties:\r\n      image: \"rsprat/dummy-rest-app-worker:v1\"\r\n      cpu: \"3.0\"\r\n      imagePullPolicy: \"Always\"\r\n      env:\r\n        - name: API_ADDRESS\r\n          value: http://dummy-app-controller:8000\r\n    traits:\r\n    - type: \"scaler\"\r\n      properties:\r\n        replicas: 1\r\n    - type: \"annotations\"\r\n      properties:\r\n        \"nebulous-placement-constraint\":  \"EDGE\"",
    "variables":[{"key":"spec_components_1_traits_0_properties_replicas","path":"/spec/components/1/traits/0/properties/replicas","type":"float","meaning":"replicas","value":{"lower_bound":1,"higher_bound":5}},{"key":"application_deployment_price","path":"","type":"float","meaning":"price","value":{"lower_bound":0,"higher_bound":0}}],
    "environmentVariables":[{"name":"AMPL_LICENSE","value":"NjYxZTQzNDQ5ODE2NDczZWIzNDIwNDc2NzZlZjI5Mzc1MjQ0MDUyMGM3MzczYzI5MTg1ODBjNWFmNzBmMzZiN2U3YWYxNzZjYTY2NjQyYTZjMWYzYzFiNjQwNmFlYTgxMTRiZjhhNDg5ZjQ0OGJjZGIyYTc2MDYzNzNiMjNiMTdjNWQ4ZjlhMjg2MjcyYzg4ZjIxOWZjZWZjMTY0MzIxMmU2ZWFjZTY5M2EzMDliYjNlMzBkN2UzNTI3MjA3OTgxZTBhMjNhNWNkOGIzYjcyOGUwZTc2ZWJiZDQwMjNhZTZiNGJkZmFiYmY1MDdkZTJlODM0M2UyNmNjNDc4NjlhNjQ0ZmZkODYxZmQzNjE0ZmVmYTJkYmZhNzI0YmMyODU3MTFmM2Q1Zjg3M2IyOTk0ODViZGNlOTBiYTRlNzc1YjQwMjI1MTI3MzIzNTBlYzZhNjExOGI4NjkyNmUwMDhjNjg1OTQwNjAyYjA5NzhlYzAxMjlmY2Q4NzM0ZDhjNGM2NDIwYmQ4MzE4OWU0NWM0MTk1ZWE4MzMxMzI0NjE4ZjBjN2RlYTViMTk0MTQ0MTJjN2MzMTNiOTIzMmQ4MTVlMGIxZDYzZjYxY2M0MWM1MzIzMDdkOTBiYjkwMWMyYTM0NTZhMWU0MGQ0OTkzOTAxMWEwMTIwMjEwYzNkYWE1YjNlN2YzZTk4ZGNhMDRmZTgyNDA3ZDc4MzQ0NGIzODcwMGU1MzdlNGJkOWI3MmY3MGY1NDQwZGM4YmE1OWE5MjU1YzJlMWM0OGRmYWM2ZTAwNmE5MGZkMzI1ODYwYzVkMzFkNDRlZTBhNTZjZTJlNTM2OWM3MTMzOTE4NWNhZjAxMWIxNzY2NGE3YTRjNWRhZjM5MjMxM2Q4YWUxODdmZTI0NzY2M2JmYjI2MDIwMGFjNGIyN2JmNGI0NDIzNTYxMzE1MmJlZDQxODMzYTZlOWViNTE1YjBjMjNiNjkzMmRhNjE2MmQ3OTE0OWY4NTE1MTdiYTgwNDY4MjAzMzcwODA0YjYyZmZi","secret":true,"_id":"cmiem0ni501gu01v4857y768e","metaType":"arrayItem","scopedArrayName":"doc.application.environmentVariables","_docId":"cmiem0xz201hd01v43nnt2fkg:en:published","_edit":true}],
    "resources":[{"title":"aws- eut-2025-11-17","uuid":"1821183e-1ce7-48c0-ade9-062b58882c10","platform":"AWS","enabled":true,"regions":"us-east-1","valid_instance_types":"us-east-1"},{"title":"oregon","uuid":"432eb5e3-ff16-461a-9f90-a2cfd99ef8db","platform":"AWS","enabled":false,"regions":"us-west-2","valid_instance_types":"us-west-2"},{"title":"atest","uuid":"046addb4-c09f-47d0-b40e-12f80b1f309b","platform":"AWS","enabled":false,"regions":"us-east-1,us-west-2","valid_instance_types":"us-east-1,us-west-2"},{"title":"adfsadfasdf","uuid":"05d02b27-9c88-487e-bd1d-7881b6c87a21","platform":"AWS","enabled":false,"regions":"us-east-1,af-south-1","valid_instance_types":"us-east-1,af-south-1"},{"title":"eut-aws-20251023","uuid":"160281af-1ac6-4abb-9398-dab35a241e43","platform":"AWS","enabled":false,"regions":"us-east-1","valid_instance_types":"us-east-1"},{"title":"aws-20251021","uuid":"7bd92b75-7774-4565-a0ea-bb5f5f911ad0","platform":"AWS","enabled":false,"regions":null,"valid_instance_types":[]},{"title":"aws-20251021","uuid":"ecaf273b-f062-4085-ba0f-53e3ef5091de","platform":"AWS","enabled":false,"regions":"us-east-1","valid_instance_types":"us-east-1"},{"title":"aws-20250903-04","uuid":"fbacc577-40a4-48f2-ad4f-19040781c95b","platform":"AWS","enabled":false,"regions":null,"valid_instance_types":[]},{"title":"eut-aws-20250903-3","uuid":"093b4a49-d1c7-4c9a-9f57-4542389d246f","platform":"AWS","enabled":false,"regions":null,"valid_instance_types":[]},{"title":"eut-aws-202509032","uuid":"f8ed25f8-f04b-4981-b88f-78460f936352","platform":"AWS","enabled":false,"regions":null,"valid_instance_types":[]}],
    "templates":[],
    "parameters":[],
    "metrics":[{"type":"raw","name":"RawMaxMessageAge","level":"global","components":[],"sensor":"-","config":[],"isWindowOutputRaw":true,"outputRaw":{"type":"all","interval":15,"unit":"sec","metaType":"object","scopedObjectName":"doc.application.outputRaw"},"_id":"cmiem0ni601h501v4eu9r5kyw","metaType":"arrayItem","scopedArrayName":"doc.application.metrics","_docId":"cmiem0xz201hd01v43nnt2fkg:en:published","_edit":true},{"type":"raw","name":"NumWorkers","level":"global","components":[],"sensor":"-","config":[],"isWindowOutputRaw":true,"outputRaw":{"type":"all","interval":15,"unit":"sec","metaType":"object","scopedObjectName":"doc.application.outputRaw"},"_id":"cmiem0ni601h601v4ck273q78","metaType":"arrayItem","scopedArrayName":"doc.application.metrics","_docId":"cmiem0xz201hd01v43nnt2fkg:en:published","_edit":true},{"type":"raw","name":"NumPendingRequests","level":"global","components":[],"sensor":"-","config":[],"isWindowOutputRaw":true,"outputRaw":{"type":"all","interval":15,"unit":"sec","metaType":"object","scopedObjectName":"doc.application.outputRaw"},"_id":"cmiem0ni601h701v4e4a46sp5","metaType":"arrayItem","scopedArrayName":"doc.application.metrics","_docId":"cmiem0xz201hd01v43nnt2fkg:en:published","_edit":true},{"type":"raw","name":"AccumulatedSecondsPendingRequests","level":"global","components":[],"sensor":"-","config":[],"isWindowOutputRaw":true,"outputRaw":{"type":"all","interval":15,"unit":"sec","metaType":"object","scopedObjectName":"doc.application.outputRaw"},"_id":"cmiem0ni601h801v420ltd6lz","metaType":"arrayItem","scopedArrayName":"doc.application.metrics","_docId":"cmiem0xz201hd01v43nnt2fkg:en:published","_edit":true},{"type":"composite","level":"global","components":[],"name":"MeanMaxMessageAge","template":"","formula":"mean(RawMaxMessageAge)","isWindowInput":true,"input":{"type":"sliding","interval":30,"unit":"sec","metaType":"object","scopedObjectName":"doc.application.input"},"isWindowOutput":true,"output":{"type":"last","interval":30,"unit":"sec","metaType":"object","scopedObjectName":"doc.application.output"},"_id":"cmiem0ni601h901v42tkx9m8f","metaType":"arrayItem","scopedArrayName":"doc.application.metrics","_docId":"cmiem0xz201hd01v43nnt2fkg:en:published","_edit":true,"arguments":["RawMaxMessageAge"]},{"type":"composite","level":"global","components":[],"name":"PendingRequestsMinusWorkers","template":"","formula":"NumPendingRequests-NumWorkers","isWindowInput":true,"input":{"type":"sliding","interval":30,"unit":"sec","metaType":"object","scopedObjectName":"doc.application.input"},"isWindowOutput":true,"output":{"type":"last","interval":30,"unit":"sec","metaType":"object","scopedObjectName":"doc.application.output"},"_id":"cmiem0ni601ha01v4dmzv2oui","metaType":"arrayItem","scopedArrayName":"doc.application.metrics","_docId":"cmiem0xz201hd01v43nnt2fkg:en:published","_edit":true,"arguments":["NumPendingRequests","NumWorkers"]},{"type":"raw","name":"currentcpu","level":"global","components":[],"sensor":"netdata k8s.cgroup.cpu","config":[],"isWindowOutputRaw":true,"outputRaw":{"type":"all","interval":10,"unit":"sec","metaType":"object","scopedObjectName":"doc.application.outputRaw"},"_id":"cmiem0ni601hb01v441ka6icz","metaType":"arrayItem","scopedArrayName":"doc.application.metrics","_docId":"cmiem0xz201hd01v43nnt2fkg:en:published","_edit":true}],
    "sloViolations":{"nodeKey":"79e92b3c-1424-457e-8e96-89080802ddd5","isComposite":true,"condition":"OR","not":false,"children":[{"nodeKey":"1652593c-ab16-4ca8-b291-6dad54e6a7db","isComposite":false,"metricName":"PendingRequestsMinusWorkers","operator":"<","value":0},{"nodeKey":"8217cd57-0566-40ed-a4ee-1a8b07245967","isComposite":false,"metricName":"MeanMaxMessageAge","operator":">","value":50}]},
    "slCreations":"{\"nodeKey\":\"c0e336ba-9c0b-4b79-80ab-30c379dc0ecd\",\"isComposite\":true,\"condition\":\"AND\",\"not\":false,\"children\":[]}",
    "slMetaConstraints":"{\"nodeKey\":\"b9545ffa-97a2-4569-8ee4-1aa883f9fa35\",\"isComposite\":true,\"condition\":\"AND\",\"not\":false,\"children\":[]}",
    "utilityFunctions":[{"name":"f","type":"minimize","expression":{"formula":"AccumulatedSecondsPendingRequests/(spec_components_0_traits_0_properties_replicas*100)","variables":[{"name":"AccumulatedSecondsPendingRequests","value":"application_deployment_price"},{"name":"spec_components_0_traits_0_properties_replicas","value":"spec_components_1_traits_0_properties_replicas"}]},"selected":null}],
    "uuid":"3ebf9920-1e6e-4854-baeb-7a1f8d83d2d8",
    "policy":null,
    "token":null,
    "_create":true,
    "_delete":true
}
